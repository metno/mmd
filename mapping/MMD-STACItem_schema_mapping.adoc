== Mapping between MMD and STAC (SpatioTemporal Asset Catalog) Item

The mapping below is used as background information to map between MMD specifications and STAC Item specifications.

=== References:

. https://github.com/metno/mmd[MMD]
. https://github.com/radiantearth/stac-spec/blob/master/item-spec/item-spec.md[STAC Item]
. https://github.com/radiantearth/stac-spec/tree/master/examples[STAC examples]
. https://github.com/radiantearth/stac-spec/blob/master/commons/common-metadata.md[STAC Common metadata]

=== Walkthrough table

NOTE: (M) refers to Mandatory fields, while (CM) refers to Conditional-Mandatory

[%header, cols="1,1,1,3", header=True]
|===
| MMD
| STAC Item
| Type/Comment
| Example

| metadata_identifier (M)
|id (M)
|
|

|-
|type (M)
|MUST be set to Feature
|"type": "Feature"

|-
|stac_version (M)
|The STAC version the Item implements.
|"stac_version": "1.1.0"

|last_metadata_update/update/datetime (M)
|properties/created for type="Created" properties/updated for the lastest updated.
|
|

|last_metadata_update/update/type (M)
|-
|See last_metadata_update/update/datetime
|

|last_metadata_update/update/note
|-
|
|


|metadata_status (M)
|-
|
|

|collection (M)
|-
|
|

|title (M)
|properties/title
|
|

|abstract (M)
|properties/description
|
|

|temporal_extent/start_date
|properties/datetime (M)
|Datetime is the acquisition (in the case of single camera type captures) or the 'nominal' or representative time. Null can be used, but then temporal intervals with the fields start_datetime and end_datetime are mandatory. See example
| "properties": { +
    "title": "Core Item", +
    "description": "A sample STAC Item that includes examples of all common metadata", +
    "datetime": null, +
    "start_datetime": "2020-12-11T22:38:32.125Z", +
    "end_datetime": "2020-12-11T22:38:32.327Z", +
    "created": "2020-12-12T01:48:13.725Z", +
    "updated": "2020-12-12T01:48:13.725Z", +

Temporal extent: simple time +
  "properties": { +
	"datetime": "2020-12-11T22:38:32.125000Z" +
  }


|temporal_extent/end_date
|properties/datetime
|See temporal_extent/start_date
| 

|geographic_extent (rectangle/polygon)  
|geometry/bbox (M)
|Both geometry and bbox are required in the form of GeoJSON Geometry Object (see example). 
| { +
       "type": "Feature", +
       "bbox": [-10.0, -10.0, 10.0, 10.0], +
       "geometry": { +
           "type": "Polygon", +
           "coordinates": [
               [ +
                   [-10.0, -10.0], +
                   [10.0, -10.0], +
                   [10.0, 10.0], +
                   [-10.0, -10.0] +
               ]
           ]
       }


|dataset_production_status (M)
|-
|
|

|dataset_language
|-
|
|

|operational_status 
|-
|
|

|access_constraint
|-
|
|

|use_constraint/identifier
|properties/license
|This string is the spdx identifier, so it can be mapped to use_constraint/identifier. 
Licensing information should be defined at the Collection level if possible. 
|"license": "CC-BY-4.0"

|use_constraint/resource
|
|See use_constraint/identifier
|

|use_constraint/license_text
|properties/license
|String with the value other if the license is not on the SPDX license list. If there is no public license URL available, it is RECOMMENDED to supplement the STAC Item with the license text in a separate file and link to this file
|

|personnel/role (M)
|properties/providers/roles
|Map Investigator to producer, Techincal contact to processor
|

|personnel/name (M)
|properties/providers/name
|Use role to map the STAC roles
|  "providers": [
    {
      "name": "Remote Data, Inc",
      "description": "Producers of awesome spatiotemporal assets",
      "roles": [
        "producer"
      ],
      "url": "http://remotedata.io"
    }
  ],

|personnel/email (M)
|-
|
|

|personnel/phone
|-
|
|

|personnel/organization
|-
|
|

|personnel/contact_address/address
|-
|
|

|personnel/contact_address/city
|-
|
|

|personnel/contact_address/province_or_state
|-
|
|

|personnel/contact_address/postal_code
|-
|
|

|personnel/contact_address/country
|-
|
|

|data_center/data_center_name/short_name
|-
|
|

|data_center/data_center_name/long_name
|properties/providers/name
|use roles = host. 
|

|data_center/data_center_url
|properties/providers/url 
|use this only for 
|

|data_access/type
|
|
|

|data_access/resource
|assets (M)
|The property assets is a dictionary of Asset Objects, each with a unique key.  Each asset refers to data associated with the Item that can be downloaded or streamed.
Map: Href = resource; Description = description; Roles = "data"
|"assets": {
    "opendap": {
      "href": "https://...dods/file.nc",
      "title": "OPeNDAP link",
      "description": "Access data through OPeNDAP",
      "roles": [
        "data"
      ]
    },

|data_access/description
|
|
|

|data_access/wms_layer
|-
|-
|

|related_dataset
|
|
|

|storage_information/file_name
|-
|-
|

|storage_information/file_location
|-
|-
|

|storage_information/file_format
|
|
|

|storage_information/file_size
|-
|-
|

|storage_information/checksum
|-
|-
|

|related_information/type
|
|
|

|related_information/resource
|links (M)
|The use of links is mandatory, but it relates mainly to the stac catalogue representation. 
 A "self" and "collection" links are STRONGLY RECOMMENDED. A link with this rel type is required for STAC item if the collection field in properties is present.
 For more info: https://github.com/radiantearth/stac-spec/blob/master/commons/links.md#link-object
For "Dataset landing page" use: 
Rel = “alternate” (translates to type Dataset landing page)
Href = URL (translates to resource)
Title (can translate to description)

|

|related_information/description
|
|
|

|iso_topic_category
|-
|
|

|keywords
|properties/keywords 
|This is a list of strings
|"properties": {
    "title": "Extended Item",
    "description": "A sample STAC Item that includes a variety of examples from the stable extensions",
    "keywords": [
      "extended",
      "example",
      "item"
    ],

|project/short_name
|
|
|

|project/long_name
|
|
|

|platform/short_name
|-
|
|

|platform/long_name
|properties/platform
|Only a string. 
|"properties": {
  ...
    "platform": "cool_sat2",
    "instruments": [
      "cool_sensor_v2"
    ],

|platform/resource
|-
|-
|

|platform/orbit_relative
|-
|-
|

|platform/orbit_absolute
|-
|-
|

|platform/orbit_direction
|-
|-
|

|platform/instrument/short_name
|-
|
|

|platform/instrument/long_name
|properties/instruments
|Only a list of strings. See platform
|

|platform/instrument/resource
|-
|-
|

|platform/instrument/mode
|-
|-
|

|platform/instrument/polarisation
|-
|-
|

|platform/instrument/product_type
|-
|-
|

|platform/ancillary/cloud_coverage
|-
|-
|

|platform/ancillary/scene_coverage
|-
|-
|

|platform/ancillary/timeliness
|-
|-
|

|spatial_representation
|-
|-
|

|activity_type
|-
|-
|

|dataset_citation/author
|
|
|

|dataset_citation/publication_date
|
|
|

|dataset_citation/title
|
|
|

|dataset_citation/series
|-
|-
|

|dataset_citation/edition
|-
|-
|

|dataset_citation/volume
|-
|-
|

|dataset_citation/issue
|-
|-
|

|dataset_citation/publication_place
|-
|-
|

|dataset_citation/publisher
|
|
|

|dataset_citation/pages
|-
|-
|

|dataset_citation/isbn
|-
|-
|

|dataset_citation/doi
|
|
|

|dataset_citation/url
|
|
|

|dataset_citation/other
|-
|-
|

|quality_control
|
|
|
|===
